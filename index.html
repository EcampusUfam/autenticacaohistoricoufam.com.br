import os
from flask import Flask, render_template, request

app = Flask(__name__)

# Dados esperados para autenticação
documentos = {
    "75fbf6cbf5": {"nome": "Histórico de Disciplinas UFAM.pdf", "data_emissao": "05/02/2025 às 16:19:11"},
    "4165d36034": {"nome": "Declaração de aprovação no vestibular.pdf", "data_emissao": "05/02/2025 às 15:28:14"}
}

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/validar', methods=['POST'])
def validar():
    codigo = request.form.get("codigo")
    
    if codigo in documentos:
        documento = documentos[codigo]
        return render_template("sucesso.html", nome=documento["nome"], data=documento["data_emissao"])
    else:
        return render_template("erro.html", mensagem="Documento não encontrado.")

if __name__ == '__main__':
    app.run(debug=True)
